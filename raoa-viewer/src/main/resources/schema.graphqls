scalar DateTime

type Query {
    albumById(id: ID): Album
    listAlbums: [Album]
    authenticationState: AuthenticationState
    listPendingRequests: [RegistrationRequest]
    currentUser: User
    listUsers: [User]
}
type Mutation{
    requestAccess(comment: String): RequestAccessResult
    removeRequest(id: AuthenticationKey): Boolean
    createUser(id: AuthenticationKey): User
    removeUser(id: ID): Boolean
    setCanManageUserFlag(userId: ID, enabled: Boolean): User
    setAlbumVisibility(userId: ID, albumId: ID, visible: Boolean): User
}

type RegistrationRequest{
    authenticationId: AuthenticationId
    reason: String
    data: UserInfo
    requestAlbum: Album
}
type AuthenticationId{
    authority: String
    id: String
}

input AuthenticationKey{
    authority: String
    id: String
}
type User{
    id: ID!
    canAccess: [Album]
    info: UserInfo
    authentications: [AuthenticationId]
    canManageUsers: Boolean
}

type Album {
    id: ID!
    name: String
    entries: [AlbumEntry]!
    entryCount: Int
    canAccessedBy: [User]
    zipDownloadUri: String
    albumTime: DateTime
}

type AlbumEntry {
    id: ID!
    name: String
    contentType: String
    created: DateTime
    entryUri: String
    thumbnailUri: String
    originalUri: String
    width: Int
    height: Int
    targetWidth: Int
    targetHeight: Int
    cameraModel: String
    cameraManufacturer: String
    focalLength: Int
    fNumber: Float
}

enum AuthenticationState {
    UNKNOWN, AUTHENTICATED, AUTHORIZATION_REQUESTED, AUTHORIZED
}

type RequestAccessResult{
    ok: Boolean
    result: RequestAccessResultCode

}
enum RequestAccessResultCode{
    OK, NOT_LOGGED_IN, ALREADY_ACCEPTED
}


type UserInfo{
    email: String
    name: String
    picture: String
}
